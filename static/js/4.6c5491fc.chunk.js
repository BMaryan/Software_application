(this.webpackJsonpsoftware_application=this.webpackJsonpsoftware_application||[]).push([[4],{302:function(e,s,a){"use strict";a.d(s,"a",(function(){return i}));var t=a(15);function i(e,s){if(null==e)return{};var a,i,r=Object(t.a)(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}},303:function(e,s,a){e.exports={showErrorBorder:"FormsControls_showErrorBorder__2eOy0",showErrorBlock:"FormsControls_showErrorBlock__13c8N",formCommonOfError:"FormsControls_formCommonOfError__3NbOb"}},304:function(e,s,a){"use strict";a.d(s,"b",(function(){return t})),a.d(s,"a",(function(){return i}));var t=function(e){if(!e)return"Field is required"},i=function(e){return function(s){if(s.length>e)return"Max length is ".concat(e," symbols")}}},305:function(e,s,a){"use strict";a.d(s,"b",(function(){return d})),a.d(s,"a",(function(){return j})),a.d(s,"c",(function(){return m}));var t=a(5),i=a(302),r=(a(0),a(303)),n=a.n(r),c=a(131),o=a(1),l=function(e){e.input;var s=e.meta,a=s.touched,t=s.error,i=e.children,r=a&&t;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:r?n.a.showErrorBorder:void 0,children:i}),r?Object(o.jsx)("span",{className:n.a.showErrorBlock,children:t}):""]})},d=function(e){var s=e.input,a=(e.child,e.meta,Object(i.a)(e,["input","child","meta"]));return Object(o.jsx)(l,Object(t.a)(Object(t.a)({},e),{},{children:Object(o.jsx)("textarea",Object(t.a)(Object(t.a)({},s),a))}))},j=function(e){var s=e.input,a=(e.child,e.meta,Object(i.a)(e,["input","child","meta"]));return Object(o.jsx)(l,Object(t.a)(Object(t.a)({},e),{},{children:Object(o.jsx)("input",Object(t.a)(Object(t.a)({},s),a))}))},m=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(o.jsxs)("div",{className:n.a.classN,children:[Object(o.jsx)(c.a,{name:e,validate:s,type:a,placeholder:t,component:i})," ",r]})}},306:function(e,s,a){"use strict";a.d(s,"a",(function(){return _}));var t=a(5),i=a(57),r=a(58),n=a(60),c=a(59),o=a(0),l=a.n(o),d=a(25),j=a(7),m=a(1),g=function(e){return{isAuth:e.auth.isAuth}},_=function(e){var s=function(s){Object(n.a)(o,s);var a=Object(c.a)(o);function o(){return Object(i.a)(this,o),a.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(m.jsx)(e,Object(t.a)({},this.props)):Object(m.jsx)(j.a,{to:"/login"})}}]),o}(l.a.Component);return Object(d.b)(g)(s)}},314:function(e,s,a){e.exports={container:"Dialogs_container__3aCli",dialogs:"Dialogs_dialogs__1PapZ",title:"Dialogs_title__2FlJ0",dialogs_position:"Dialogs_dialogs_position__e9ZW7",wrapper__dialogs:"Dialogs_wrapper__dialogs__1ArNh",wrapper__messages:"Dialogs_wrapper__messages__3whCO",chat_message:"Dialogs_chat_message__mEX6p",message_position:"Dialogs_message_position__1eVGh",create_message:"Dialogs_create_message__1rgkK",message_form:"Dialogs_message_form__2tUHf",message_input:"Dialogs_message_input__1d8_6"}},315:function(e,s,a){e.exports={dialog:"Dialog_dialog__1Ro7v",contact:"Dialog_contact__mgftp",active:"Dialog_active__3Swnp",msg_preview:"Dialog_msg_preview__2U9Dr",name:"Dialog_name__1G0GO",days_muted:"Dialog_days_muted__2Th0j"}},316:function(e,s,a){e.exports={chat_message:"Message_chat_message__2AJOO",message:"Message_message__-4hYb",block_message:"Message_block_message__10gwn",name:"Message_name__1UAWd",days_muted:"Message_days_muted__28nvv"}},322:function(e,s,a){"use strict";a.r(s);var t=a(5),i=a(57),r=a(58),n=a(60),c=a(59),o=a(0),l=a.n(o),d=a(25),j=a(12),m=a(306),g=a(130),_=a(98),u=a(314),b=a.n(u),p=a(315),O=a.n(p),h=a(26),f=a(1),v=function(e){var s="/dialogs/"+e.id;return Object(f.jsx)("li",{className:O.a.dialog,children:Object(f.jsxs)(h.b,{className:O.a.contact,activeClassName:O.a.active,to:s,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.img,alt:""})}),Object(f.jsxs)("div",{className:O.a.msg_preview,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:O.a.name,children:e.name}),Object(f.jsx)("div",{className:O.a.days_muted,children:e.wroteDaysAgo})]}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:e.message})})]})]})})},x=a(316),w=a.n(x),N=function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:w.a.message,children:[Object(f.jsx)("div",{children:e.profile&&e.profile.photos.small?Object(f.jsx)("img",{src:e.profile.photos.small,alt:""}):Object(f.jsx)("img",{src:e.img,alt:""})}),Object(f.jsxs)("div",{className:w.a.block_message,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:w.a.name,children:e.profile?e.profile.fullName:e.name}),Object(f.jsx)("div",{className:w.a.days_muted,children:e.wroteDaysAgo})]}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:e.message})})]})]})})},y=a(131),D=a(132),A=a(304),k=a(305),C=a(97),E=a(41),M=Object(A.a)(50),P=Object(D.a)({form:"dialogsForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,className:b.a.message_form,children:[Object(f.jsx)("div",{className:b.a.message_input,children:Object(f.jsx)(y.a,{name:"newMessageText",validate:[A.b,M],placeholder:"Write a message...",component:k.a})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send"})})]})})),S=function(e){if(!e.profile)return Object(f.jsx)(E.a,{});var s=e.dialogsPage.dialogs.map((function(e){return Object(f.jsx)(v,{name:e.name,id:e.id,img:e.img,wroteDaysAgo:e.wroteDaysAgo,message:e.message},e.id)})),a=e.dialogsPage.messages.map((function(s){return e.profile.userId===s.id?Object(f.jsx)("div",{className:b.a.message_position,children:Object(f.jsx)(N,{name:s.name,img:s.img,wroteDaysAgo:s.wroteDaysAgo,message:s.message,profile:e.profile},s.id)}):(console.log(e),Object(f.jsx)(N,{name:s.name,img:s.img,wroteDaysAgo:s.wroteDaysAgo,message:s.message},s.id))}));return console.log(e),Object(f.jsx)("div",{className:b.a.container,children:Object(f.jsxs)("div",{className:b.a.dialogs,children:[Object(f.jsx)("h2",{className:b.a.title,children:"Dialogs"}),Object(f.jsxs)("div",{className:b.a.dialogs_position,children:[Object(f.jsx)("div",{className:b.a.wrapper__dialogs,children:Object(f.jsx)("ul",{children:s})}),Object(f.jsxs)("div",{className:b.a.wrapper__messages,children:[Object(f.jsx)("div",{className:b.a.chat_message,children:a}),Object(f.jsxs)("div",{className:b.a.create_message,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.profile&&e.profile.photos.small?e.profile.photos.small:C.a,alt:""})}),Object(f.jsx)(P,{onSubmit:function(s,a,t,i){if(e.profile){var r=e.profile.photos.small?e.profile.photos.small:C.a;e.addMessage(e.profile.userId,e.profile.fullName,r,s.newMessageText)}}})]})]})]})]})})},B=function(e){Object(n.a)(a,e);var s=Object(c.a)(a);function a(){return Object(i.a)(this,a),s.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(f.jsx)(S,Object(t.a)(Object(t.a)({},this.props),{},{profile:this.props.profile}))}}]),a}(l.a.Component);s.default=Object(j.d)(Object(d.b)((function(e){return{dialogsPage:e.dialogsPage,profile:e.profilePage.profile}}),(function(e){return{addMessage:function(s,a,t,i){e(Object(g.a)(s,a,t,i))},setUser:function(s){e(Object(_.e)(s))}}})),m.a)(B)}}]);
//# sourceMappingURL=4.6c5491fc.chunk.js.map